copying
displayGlyph: aForm at: aPoint left: leftX right: rightX font: aFont 	"Display a glyph in a multi-lingual font. Do 2 pass rendering if	necessary. This happens when	#installStrikeFont:foregroundColor:backgroundColor: sets rule 37	(rgbMul). the desired effect is to do two bitblt calls. The first one is	with rule 37 and special colormap.	The second one is rule 34, with a colormap for applying the requested	foreground color.	This two together do component alpha blending, i.e. alpha blend red,	green and blue separatedly.	This is needed for arbitrary color over abitrary background text with	subpixel AA."	| _gsSqueakTemp_prevRule _gsSqueakTemp_secondPassMap |	self sourceForm: aForm.	destX := aPoint x.	destY := aPoint y.	sourceX := leftX.	sourceY := 0.	width := rightX - leftX.	height := aFont height.	combinationRule = 37		ifTrue: ["We need to do a second pass. The colormap set is for use in			the second pass."			_gsSqueakTemp_secondPassMap := colorMap.			colorMap := sourceForm depth = destForm depth						ifFalse: [self cachedFontColormapFrom: sourceForm depth to: destForm depth].			self copyBits.			_gsSqueakTemp_prevRule := combinationRule.			combinationRule := 20.			"rgbAdd"			colorMap := _gsSqueakTemp_secondPassMap.			self copyBits.			combinationRule := _gsSqueakTemp_prevRule]		ifFalse: [self copyBits]